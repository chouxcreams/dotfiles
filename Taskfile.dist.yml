version: "3"
tasks:
  init:
    sources:
      - ./scripts/init.sh
    cmds:
      - ./scripts/init.sh
  update:
    cmds:
      - task: init
      - task: completions
      - task: sheldon
  completions:
    cmds:
      - ./scripts/completion.zsh
    sources:
      - ./scripts/completion.zsh
    generates:
      - "$XDG_DATA_HOME/zsh/completions/*"
  sheldon:
    cmds:
      - sheldon lock --reinstall
    sources:
      - ./.config/zsh/plugins/defer/*
      - ./.config/zsh/plugins/sync/*
